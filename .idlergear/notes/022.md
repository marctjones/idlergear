---
id: 22
created: '2026-01-07T04:32:02.000630Z'
tags:
- implementation
- goose-integration
---
## Goose Integration Complete: MCP-Based Hooks & Session Management

Successfully implemented comprehensive Goose integration that works for both Goose CLI and GUI.

### Key Insight
Goose doesn't have lifecycle hooks like Claude Code - it uses **MCP extensions** exclusively. Since IdlerGear already has a complete MCP server with 51 tools, Goose integration is achieved through:
1. Enhanced .goosehints with MCP-first instructions
2. Session management tools (idlergear_session_start, etc.)
3. Clear documentation for CLI vs GUI setup

### What Was Updated

**1. Enhanced .goosehints Template (src/idlergear/goose.py)**
- Changed from CLI-first to MCP-first approach
- Emphasizes `idlergear_session_start()` as FIRST action
- Removed Node.js server recommendations (IdlerGear has all 51 tools built-in!)
- Added Goose CLI (YAML) and GUI (JSON) configuration examples
- Included session best practices with MCP tool examples
- Added CLI vs GUI tips

**2. Key Messaging**
- **Session Start**: Always call `idlergear_session_start(context_mode="minimal")` first
- **Zero Node.js**: IdlerGear provides filesystem, git, PM all built-in
- **51 MCP Tools**: Complete platform in one server
- **Token Efficiency**: 97% savings on context (17K → 570 tokens)
- **Perfect Continuity**: Eliminates "where did we leave off?" questions

**3. Goose-Specific Features**
- `idlergear_session_start()` - Perfect for Goose session initialization
- `idlergear_session_save()` - Save progress during work
- `idlergear_session_end()` - Proper session closure with recommendations
- `idlergear_git_commit_task()` - Task-aware commits
- All filesystem/git/PM tools work identically in Goose

### Configuration Examples

**Goose CLI (config.yaml):**
```yaml
mcp_servers:
  idlergear:
    command: idlergear-mcp
    args: []
    env: {}
```

**Goose GUI:**
Settings → Extensions → Add Custom Extension → `idlergear-mcp`

### Benefits for Goose Users

1. **Single Server**: All 51 tools from one MCP server
2. **Zero Node.js**: Pure Python, no npm/npx needed
3. **Session Continuity**: Perfect state restoration
4. **Token Efficient**: 97% reduction on context
5. **Task-Aware Git**: Automatic commit-task linking
6. **Works Everywhere**: Goose CLI, Goose GUI, identical experience

### Comparison: Claude Code vs Goose

**Claude Code:**
- Uses lifecycle hooks (.claude/hooks/)
- SessionStart, PreToolUse, Stop hooks
- Bash scripts for enforcement

**Goose:**
- Uses MCP extensions exclusively
- No lifecycle hooks (use instructions instead)
- Session management via MCP tools
- .goosehints provides guidance

**Result**: Both fully supported with different integration patterns!
